<!DOCTYPE html>
<html>
  <head>
    <style>
      html, body {
        margin:0;
        padding:0;
      }
    </style>            
  </head>
  <body>
    <div id='widget' class='widget'>
      <h2 class="title">npm Security Risks</h2>
      <div class="big-count truncated-text-ellipsis">N/A</div>
      <div class="footer runcated-text-ellipsis">loading</div>
    </div>
    <script src='node_modules/vss-web-extension-sdk/lib/VSS.SDK.min.js'></script>
    <script src='node_modules/jszip/dist/jszip.min.js'></script>
    <script src='dist/app.min.js'></script>
    <script type='text/javascript'>
      // https://stackoverflow.com/a/494348/402706
      function createElementFromHTML(htmlString) {
        var div = document.createElement('div');
        div.innerHTML = htmlString.trim();
        return div.firstChild; 
      }

      App.auditWidget(VSS, JSZip, function(renderedApp) {
        var widgetNode = document.getElementById('widget');
        widgetNode.parentNode.replaceChild(createElementFromHTML(renderedApp), widgetNode);
      });
    </script>
  </body>
</html>